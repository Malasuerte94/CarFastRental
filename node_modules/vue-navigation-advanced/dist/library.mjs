import{defineComponent as e,ref as t,computed as n,watch as a,nextTick as o,onMounted as l,onBeforeUnmount as u,openBlock as r,createElementBlock as i,normalizeStyle as c,unref as d,Fragment as s,renderList as v,createElementVNode as f,normalizeClass as p,renderSlot as m,toDisplayString as y}from"vue";import{useRouter as b,useRoute as g}from"vue-router";var h=["onClick"],w={class:"sm-btn-item"},C=e({__name:"SwipeBottomNavigation",props:{modelValue:{type:[Number,String,null],required:!0,default:null},options:{type:Array,required:!0,default:function(){return[]}},swiperColor:{type:String,required:!1,default:"#8066C7"},backgroundColor:{type:String,required:!1,default:"#FFFFFF"},iconColor:{type:String,required:!1,default:"#8066C7"},replaceRoute:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!1},modalOpen:{type:[Number,String,null],required:!1,default:null}},emits:["update:modelValue","modalOpen"],setup:function(e,C){var S=C.emit,k=e,_=b(),q=g(),x=t(0),N=t(0),B=t([]),F=t(!0),O=t(0),V=t(),I=t(),R=n((function(){return{"--swiper-color":k.swiperColor,"--icon-color":k.iconColor,"--background-color":k.backgroundColor}}));function A(){I.value&&Array.isArray(I.value)&&(O.value=I.value[0].offsetWidth),V.value&&(V.value.style.width=O.value+"px",V.value.style.transform="translateX(".concat(O.value*N.value,"px)"))}function j(){A()}function z(e,t){(t!==N.value||e.modal)&&(N.value=t,null!==x.value&&(B.value[x.value].selected=!1),B.value[t].selected=!0,x.value=N.value,function(e){S("update:modelValue",e.id),F.value=!1,setTimeout((function(){F.value=!0}),0),e.path&&Object.keys(e.path).length&&!e.modal&&(S("modalOpen",null),k.replaceRoute?_.replace(e.path).catch((function(){})):_.push(e.path));e.modal&&S("modalOpen",e.modalName)}(e))}a((function(){return N.value}),(function(e){V.value&&(V.value.style.transform="translateX(".concat(O.value*e,"px)"))})),a((function(){return k.modelValue}),(function(e,t){if(e!=t&&F.value){var n=B.value.findIndex((function(t){return t.id==e}));n>-1&&z(B.value[n],n)}})),a(q,(function(e){e&&o((function(){var t=B.value.findIndex((function(t){return"string"==typeof t.path?t.path===e.path:(t.path||{}).name===e.name}));t>-1&&z(B.value[t],t)}))}),{immediate:!0}),l((function(){A(),window.addEventListener("resize",j)})),u((function(){return window.removeEventListener("resize",j)})),B.value=k.options.slice();var E=B.value.findIndex((function(e){return e.id==k.modelValue||"object"==typeof e.path&&(e.path||{}).name==(q||{}).name}));return E>-1&&(N.value=E,x.value=E,B.value[E].selected=!0),function(e,t){return r(),i("div",{class:"sm-btn-container-foreground",style:c(d(R))},[(r(!0),i(s,null,v(B.value,(function(t,n){return r(),i("div",{key:"simple-btn-".concat(n),ref_for:!0,ref_key:"btnContainerRef",ref:I,class:"sm-btn-container",onClick:function(e){return z(t,n)}},[f("div",w,[f("div",{class:p(["sm-btn-icon",{"sm-btn-icon-active":t.selected}])},[m(e.$slots,"icon",{props:t},(function(){return[f("i",{class:p("".concat(t.icon))},null,2)]}))],2),f("div",{class:p(["sm-btn-title",{"sm-btn-title-active":t.selected}])},y(t.title),3)])],8,h)})),128)),f("div",{ref_key:"borderSwiperRef",ref:V,class:"border-swiper"},null,512)],4)}}});C.__scopeId="data-v-22a64d79",C.__file="src/components/SwipeBottomNavigation.vue";var S={install:function(e){e.component("SwipeBottomNavigation",C)}};export{C as SwipeBottomNavigation,S as default};
